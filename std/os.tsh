import "strings"

func Shell() string {
	shell := "unknown"

	if strings.HasPrefix("%OS%", "Win") {
		shell = "batch"
	} else {
		stdout, stderr, code := @ps("-p", "$$", "-o", "args=") | @cut("-d", " ", "-f1") | @grep("-o", "-e", `"[0-9a-zA-Z][0-9a-zA-Z]*$"`)
		shell = stdout
	}
	return shell
}
